# åŒå‡çº¿ç­–ç•¥ä½¿ç”¨æŒ‡å—

## ðŸŽ¯ åŠŸèƒ½æ¦‚è¿°

å·²ä¸ºæ‚¨çš„ AY Trading Strategy é¡¹ç›®æ·»åŠ äº†å®Œæ•´çš„åŒå‡çº¿ç­–ç•¥æµ‹è¯•åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

- âœ… **5ç§åŒå‡çº¿ç­–ç•¥å˜ä½“**ï¼šç»å…¸åŒå‡çº¿ã€EMAåŒå‡çº¿ã€ä¸‰å‡çº¿ã€å‡çº¿+RSIã€è‡ªé€‚åº”å‡çº¿
- âœ… **å®Œæ•´æµ‹è¯•æ¡†æž¶**ï¼šç­–ç•¥éªŒè¯ã€å›žæµ‹å¯¹æ¯”ã€ç»“æžœåˆ†æž
- âœ… **å¯è§†åŒ–ç•Œé¢**ï¼šStreamlitè‡ªå®šä¹‰ç­–ç•¥ç¼–è¾‘å™¨
- âœ… **ç­–ç•¥æ–‡ä»¶ç”Ÿæˆ**ï¼šå¯ç›´æŽ¥ä½¿ç”¨çš„ç­–ç•¥ä»£ç æ–‡ä»¶

## ðŸ“ æ–‡ä»¶ç»“æž„

```
â”œâ”€â”€ test_dual_ma_strategy.py      # å®Œæ•´æµ‹è¯•æ¡†æž¶
â”œâ”€â”€ demo_dual_ma_strategy.py      # ç­–ç•¥æ¼”ç¤ºä»£ç 
â”œâ”€â”€ classic_dual_ma.py           # ç»å…¸åŒå‡çº¿ç­–ç•¥
â”œâ”€â”€ optimized_dual_ma.py         # ä¼˜åŒ–ç‰ˆåŒå‡çº¿ç­–ç•¥
â”œâ”€â”€ triple_ma_trend.py           # ä¸‰å‡çº¿è¶‹åŠ¿ç­–ç•¥
â””â”€â”€ åŒå‡çº¿ç­–ç•¥ä½¿ç”¨æŒ‡å—.md         # æœ¬æ–‡æ¡£
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨Streamlitå¯è§†åŒ–ç•Œé¢ï¼ˆæŽ¨èï¼‰

1. **å¯åŠ¨åº”ç”¨**
   ```bash
   cd /Users/ecustkiller/aytradingstrategy_streamlit
   streamlit run streamlit_app.py
   ```

2. **è®¿é—®ç•Œé¢**
   - æµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:8501
   - é€‰æ‹©ä¾§è¾¹æ ï¼šðŸ“ è‡ªå®šä¹‰ç­–ç•¥

3. **æµ‹è¯•ç­–ç•¥**
   - å³ä¾§é€‰æ‹©"å‡çº¿ç­–ç•¥"æ¨¡æ¿
   - ç‚¹å‡»"ðŸ“¥ åŠ è½½æ¨¡æ¿"
   - è®¾ç½®å›žæµ‹å‚æ•°
   - ç‚¹å‡»"ðŸš€ è¿è¡Œå›žæµ‹"

### æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤è¡Œæµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•æ¡†æž¶
python3 test_dual_ma_strategy.py

# æŸ¥çœ‹ç­–ç•¥æ¼”ç¤ºä»£ç 
python3 demo_dual_ma_strategy.py
```

## ðŸ“Š ç­–ç•¥è¯¦è§£

### 1. ç»å…¸åŒå‡çº¿ç­–ç•¥
- **åŽŸç†**ï¼šçŸ­æœŸå‡çº¿(5æ—¥)ä¸Šç©¿é•¿æœŸå‡çº¿(20æ—¥)ä¹°å…¥ï¼Œä¸‹ç©¿å–å‡º
- **é€‚ç”¨**ï¼šè¶‹åŠ¿æ˜Žæ˜¾çš„å¸‚åœº
- **è‚¡ç¥¨æ± **ï¼šå¹³å®‰é“¶è¡Œã€ä¸‡ç§‘Aã€æ‹›å•†é“¶è¡Œã€è´µå·žèŒ…å°

```python
def initialize(context):
    context.symbols = ['000001.SZ', '000002.SZ', '600036.SH', '600519.SH']
    context.short_ma = 5
    context.long_ma = 20
    context.hold_count = 2

def handle_data(context):
    buy_signal = f"ma(close, {context.short_ma}) > ma(close, {context.long_ma})"
    sell_signal = f"ma(close, {context.short_ma}) < ma(close, {context.long_ma})"
    
    return {
        'select_buy': [buy_signal],
        'select_sell': [sell_signal],
        'order_by_signal': f'roc(close, {context.short_ma})',
        'order_by_topK': context.hold_count,
        'weight': 'WeighEqually',
        'period': 'RunDaily'
    }
```

### 2. ä¼˜åŒ–ç‰ˆåŒå‡çº¿ç­–ç•¥
- **æ”¹è¿›**ï¼šå¢žåŠ RSIè¿‡æ»¤å™¨ï¼Œé¿å…åœ¨è¶…ä¹°æ—¶ä¹°å…¥
- **ç‰¹ç‚¹**ï¼šå‡å°‘å‡ä¿¡å·ï¼Œæé«˜æˆåŠŸçŽ‡
- **å‚æ•°**ï¼š8æ—¥EMA vs 21æ—¥EMA + RSI<70

### 3. ä¸‰å‡çº¿è¶‹åŠ¿ç­–ç•¥
- **åŽŸç†**ï¼šä½¿ç”¨5/20/60æ—¥ä¸‰æ ¹å‡çº¿ç¡®è®¤è¶‹åŠ¿
- **ä¼˜åŠ¿**ï¼šä¿¡å·æ›´å¯é ï¼Œå‡å°‘éœ‡è¡å¸‚å¹²æ‰°
- **æ¡ä»¶**ï¼šå¤šå¤´æŽ’åˆ—ä¹°å…¥ï¼Œç©ºå¤´æŽ’åˆ—å–å‡º

### 4. EMAåŒå‡çº¿ç­–ç•¥
- **ç‰¹ç‚¹**ï¼šä½¿ç”¨æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿ï¼Œååº”æ›´çµæ•
- **é€‚ç”¨**ï¼šçŸ­æœŸäº¤æ˜“æˆ–æ³¢åŠ¨è¾ƒå¤§çš„å“ç§

### 5. å‡çº¿+RSIè¿‡æ»¤ç­–ç•¥
- **ç»„åˆ**ï¼šå‡çº¿è¶‹åŠ¿ + RSIåŠ¨é‡è¿‡æ»¤
- **ä¼˜åŠ¿**ï¼šè¶‹åŠ¿è·Ÿè¸ª + é£Žé™©æŽ§åˆ¶
- **ä¹°å…¥æ¡ä»¶**ï¼šå‡çº¿é‡‘å‰ AND RSIæœªè¶…ä¹°

## âš™ï¸ å‚æ•°è°ƒä¼˜å»ºè®®

### å‡çº¿å‘¨æœŸé€‰æ‹©
| å¸‚åœºç±»åž‹ | çŸ­æœŸå‡çº¿ | é•¿æœŸå‡çº¿ | è¯´æ˜Ž |
|---------|---------|---------|------|
| å¼ºè¶‹åŠ¿å¸‚ | 5-8æ—¥ | 15-20æ—¥ | è·Ÿè¸ªè¶‹åŠ¿ |
| éœ‡è¡å¸‚ | 10-15æ—¥ | 30-40æ—¥ | å‡å°‘å™ªéŸ³ |
| é•¿çº¿æŠ•èµ„ | 20-30æ—¥ | 60-120æ—¥ | ç¨³å¥ä¸ºä¸» |

### RSIå‚æ•°ä¼˜åŒ–
- **è¶…ä¹°é˜ˆå€¼**ï¼š70-80
- **è¶…å–é˜ˆå€¼**ï¼š20-30
- **è®¡ç®—å‘¨æœŸ**ï¼š14æ—¥ï¼ˆæ ‡å‡†ï¼‰

### è‚¡ç¥¨æ± é€‰æ‹©
- **é‡‘èžè‚¡**ï¼šé“¶è¡Œã€ä¿é™©ï¼ˆè¶‹åŠ¿æ€§å¼ºï¼‰
- **æ¶ˆè´¹è‚¡**ï¼šç™½é…’ã€é£Ÿå“ï¼ˆå‘¨æœŸæ€§æ˜Žæ˜¾ï¼‰
- **ç§‘æŠ€è‚¡**ï¼šæ³¨æ„æ³¢åŠ¨æ€§åŠ å¤§

## ðŸ“ˆ å›žæµ‹ç»“æžœåˆ†æž

### å…³é”®æŒ‡æ ‡
- **æ€»æ”¶ç›ŠçŽ‡**ï¼šç­–ç•¥æ•´ä½“æ”¶ç›Šè¡¨çŽ°
- **å¹´åŒ–æ”¶ç›Š**ï¼šæ ‡å‡†åŒ–æ”¶ç›ŠæŒ‡æ ‡
- **æœ€å¤§å›žæ’¤**ï¼šé£Žé™©æŽ§åˆ¶èƒ½åŠ›
- **å¤æ™®æ¯”çŽ‡**ï¼šé£Žé™©è°ƒæ•´åŽæ”¶ç›Š
- **èƒœçŽ‡**ï¼šäº¤æ˜“æˆåŠŸæ¯”ä¾‹

### ä¼˜åŒ–æ–¹å‘
1. **æé«˜èƒœçŽ‡**ï¼šå¢žåŠ è¿‡æ»¤æ¡ä»¶
2. **é™ä½Žå›žæ’¤**ï¼šè®¾ç½®æ­¢æŸæœºåˆ¶
3. **å¢žå¼ºæ”¶ç›Š**ï¼šä¼˜åŒ–æŒä»“æƒé‡
4. **å‡å°‘äº¤æ˜“**ï¼šè°ƒæ•´è°ƒä»“å‘¨æœŸ

## ðŸ”§ é«˜çº§åŠŸèƒ½

### 1. å¤šç­–ç•¥å¯¹æ¯”
- åŒæ—¶è¿è¡Œå¤šä¸ªç­–ç•¥
- ç”Ÿæˆå¯¹æ¯”è¡¨æ ¼
- å¯è§†åŒ–æ”¶ç›Šæ›²çº¿

### 2. äº¤æ˜“è®°å½•å¯¼å‡º
- å®Œæ•´äº¤æ˜“æ˜Žç»†
- CSVæ ¼å¼ä¸‹è½½
- æ”¯æŒè¿›ä¸€æ­¥åˆ†æž

### 3. å‚æ•°æ•æ„Ÿæ€§åˆ†æž
- ä¸åŒå‚æ•°ç»„åˆæµ‹è¯•
- æ‰¾å‡ºæœ€ä¼˜å‚æ•°
- éªŒè¯ç­–ç•¥ç¨³å¥æ€§

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ•°æ®è¦æ±‚
- **æœ¬åœ°CSVæ•°æ®**ï¼šéœ€å…ˆæ›´æ–°ï¼ˆðŸ’¾ AIæ•°æ®ç®¡ç†ï¼‰
- **æ—¶é—´èŒƒå›´**ï¼šå»ºè®®è‡³å°‘3å¹´åŽ†å²æ•°æ®
- **è‚¡ç¥¨ä»£ç **ï¼šæ­£ç¡®æ ¼å¼ï¼ˆ000001.SZï¼‰

### ä½¿ç”¨é™åˆ¶
- **å›žæµ‹é€Ÿåº¦**ï¼šè‚¡ç¥¨æ± ä¸å®œè¿‡å¤§ï¼ˆå»ºè®®<20åªï¼‰
- **äº¤æ˜“æˆæœ¬**ï¼šå·²è®¾ç½®ä¸‡åˆ†ä¹‹2.5æ‰‹ç»­è´¹
- **æ•°æ®è´¨é‡**ï¼šåœç‰Œã€STè‚¡ç¥¨ä¼šå½±å“ç»“æžœ

### é£Žé™©æç¤º
- åŽ†å²å›žæµ‹ä¸ä»£è¡¨æœªæ¥æ”¶ç›Š
- éœ€ç»“åˆå®žç›˜éªŒè¯
- å»ºè®®å°èµ„é‡‘è¯•è¿è¡Œ

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
1. **Q**: å›žæµ‹å¤±è´¥æç¤ºæ•°æ®ä¸å­˜åœ¨
   **A**: æ‰§è¡Œã€ŒðŸ’¾ AIæ•°æ®ç®¡ç†ã€â†’ã€Œå¼€å§‹æ›´æ–°ã€

2. **Q**: ç­–ç•¥éªŒè¯ä¸é€šè¿‡
   **A**: æ£€æŸ¥è‚¡ç¥¨ä»£ç æ ¼å¼å’Œè¯­æ³•é”™è¯¯

3. **Q**: æ”¶ç›Šæ›²çº¿æ˜¾ç¤ºå¼‚å¸¸
   **A**: ç¡®è®¤æ—¶é—´èŒƒå›´å’Œæ•°æ®å®Œæ•´æ€§

### è”ç³»æ–¹å¼
- **é¡¹ç›®ä»“åº“**ï¼šhttps://github.com/Ecustkiller/aytradingstragegy
- **é—®é¢˜åé¦ˆ**ï¼šæäº¤ GitHub Issue
- **åŠŸèƒ½å»ºè®®**ï¼šæ¬¢è¿Ž Pull Request

---

## ðŸŽ‰ æ€»ç»“

åŒå‡çº¿ç­–ç•¥åŠŸèƒ½å·²å®Œæ•´é›†æˆåˆ°æ‚¨çš„é‡åŒ–äº¤æ˜“ç³»ç»Ÿä¸­ï¼Œæä¾›ï¼š

1. **å®Œæ•´çš„ç­–ç•¥åº“**ï¼š5ç§ä¸åŒç±»åž‹çš„åŒå‡çº¿ç­–ç•¥
2. **å¼ºå¤§çš„æµ‹è¯•å·¥å…·**ï¼šéªŒè¯ã€å›žæµ‹ã€åˆ†æžä¸€ä½“åŒ–
3. **å‹å¥½çš„ç•Œé¢**ï¼šStreamlitå¯è§†åŒ–æ“ä½œ
4. **è¯¦ç»†çš„æ–‡æ¡£**ï¼šä½¿ç”¨æŒ‡å—å’Œå‚æ•°è¯´æ˜Ž

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼Œç­–ç•¥è¿è¡Œé¡ºåˆ©ï¼ ðŸš€