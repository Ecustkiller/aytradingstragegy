# 📈 分时图使用指南

## 🚀 快速开始

### 1️⃣ 启动应用
```bash
streamlit run streamlit_app.py
```

### 2️⃣ 进入持仓监控
- 在左侧边栏选择 **💼 持仓监控**

### 3️⃣ 添加股票
- 在侧边栏输入股票代码（如：000001）
- 点击 **添加到持仓**

### 4️⃣ 查看分时图
- 点击股票卡片展开详情
- 点击 **📈 分时图** 按钮
- 查看专业的连续分时图

## ✨ 功能特点

### 🎨 专业视觉效果
- **深蓝色背景**：类似同花顺的专业配色
- **白色价格线**：清晰显示价格走势
- **黄色均价线**：虚线显示当日均价
- **灰色昨收线**：参考线标注昨日收盘价
- **红涨绿跌**：成交量柱状图颜色区分

### 📊 连续显示
- ✅ **无断层**：午休时间不会出现图形断层
- ✅ **流畅**：上午和下午交易数据无缝连接
- ✅ **专业**：与同花顺等专业软件效果一致

### 📈 实时数据
- **1分钟K线**：精确到分钟的价格数据
- **实时更新**：显示最新的交易数据
- **完整统计**：最高、最低、振幅、成交量

### 🖱️ 交互功能
- **悬停查看**：鼠标悬停显示精确时间和价格
- **缩放平移**：支持图表缩放和平移操作
- **图例切换**：点击图例显示/隐藏数据线

## 📊 界面说明

### 分时图组成

```
┌─────────────────────────────────────────┐
│  股票名称(代码) 分时图                    │
├─────────────────────────────────────────┤
│                                         │
│  ┌─ 当前价: 11.63                       │
│  │  +0.08 (+0.69%)                     │
│  └─────────────                         │
│                                         │
│     价格线 ─────  (白色)                │
│     均价线 ······ (黄色)                │
│     昨收线 - - -  (灰色)                │
│                                         │
├─────────────────────────────────────────┤
│  成交量                                  │
│  ▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌▌  │
│  (红色=涨, 绿色=跌)                      │
└─────────────────────────────────────────┘
  9:30   10:30   13:00   14:00   15:00
```

### 统计信息

```
┌──────┬──────┬──────┬──────────┐
│ 最高 │ 最低 │ 振幅 │ 成交量   │
├──────┼──────┼──────┼──────────┤
│11.80 │11.50 │2.58% │ 1.23亿   │
└──────┴──────┴──────┴──────────┘
```

## 🎯 使用场景

### 1. 盘中监控
- 实时查看持仓股票的分时走势
- 观察价格波动和成交量变化
- 判断买卖时机

### 2. 趋势分析
- 查看价格是否在均价线上方
- 观察价格波动幅度
- 分析成交量分布

### 3. 多股对比
- 同时展开多只股票的分时图
- 对比不同股票的走势
- 发现板块联动效应

## 💡 使用技巧

### 技巧1：快速添加股票
```
只需输入代码，名称自动获取
000001 → 自动识别为"平安银行"
600519 → 自动识别为"贵州茅台"
```

### 技巧2：查看多只股票
```
可以同时展开多只股票的分时图
方便对比不同股票的走势
```

### 技巧3：关注关键时间点
```
开盘：9:30  - 观察开盘走势
午盘：11:30 - 上午收盘情况
午开：13:00 - 下午开盘走势
尾盘：14:30 - 关注尾盘拉升/跳水
```

### 技巧4：结合均价线
```
价格 > 均价线 → 相对强势
价格 < 均价线 → 相对弱势
价格突破均价线 → 可能转势
```

## ⚠️ 注意事项

### 数据时效性
- ✅ **交易时间**：9:30-15:00 有实时数据
- ⚠️ **非交易时间**：可能无法获取数据
- ⚠️ **节假日**：休市日无数据

### 数据准确性
- 数据来源：新浪财经接口
- 延迟：约1-3秒
- 建议：仅供参考，不作为交易依据

### 性能优化
- 默认显示240个数据点（约4小时）
- 数据量较大时可能加载较慢
- 建议：不要同时展开过多分时图

## 🔧 故障排除

### 问题1：无法显示分时图
**原因**：Ashare库未安装或导入失败  
**解决**：
```bash
pip install Ashare
```

### 问题2：提示"无法获取分时数据"
**原因**：非交易时间或股票代码错误  
**解决**：
- 检查股票代码是否正确
- 确认当前是否为交易时间
- 尝试刷新页面

### 问题3：图形显示不完整
**原因**：浏览器窗口过小  
**解决**：
- 放大浏览器窗口
- 使用全屏模式
- 调整浏览器缩放比例

### 问题4：数据不更新
**原因**：缓存或网络问题  
**解决**：
- 点击"🔄 刷新行情"按钮
- 重新展开分时图
- 检查网络连接

## 📚 相关文档

- [分时图连续显示优化说明.md](./分时图连续显示优化说明.md) - 技术实现细节
- [持仓监控功能说明.md](./持仓监控功能说明.md) - 持仓监控完整说明
- [README.md](./README.md) - 项目总体说明

## 🎉 更新日志

### v2.0 (2025-11-11)
- ✅ 实现连续显示，消除午休时段断层
- ✅ 优化时间轴标签显示
- ✅ 改进悬停提示交互

### v1.0 (2025-11-10)
- ✅ 基础分时图功能
- ✅ 价格线和均价线
- ✅ 成交量柱状图

---

**提示**：如有问题或建议，欢迎反馈！
